package binarysearch;

/**
 * @author chengj
 * @Description 1351.ç»Ÿè®¡æœ‰åºçŸ©é˜µä¸­çš„è´Ÿæ•° ç®€å•
 * @Date 2022/6/8
 */
//ç»™ä½ ä¸€ä¸ª m * n çš„çŸ©é˜µ gridï¼ŒçŸ©é˜µä¸­çš„å…ƒç´ æ— è®ºæ˜¯æŒ‰è¡Œè¿˜æ˜¯æŒ‰åˆ—ï¼Œéƒ½ä»¥éé€’å¢é¡ºåºæ’åˆ—ã€‚ è¯·ä½ ç»Ÿè®¡å¹¶è¿”å› grid ä¸­ è´Ÿæ•° çš„æ•°ç›®ã€‚
//
//
//
// ç¤ºä¾‹ 1ï¼š
//
//
//è¾“å…¥ï¼šgrid = [[4,3,2,-1],[3,2,1,-1],[1,1,-1,-2],[-1,-1,-2,-3]]
//è¾“å‡ºï¼š8
//è§£é‡Šï¼šçŸ©é˜µä¸­å…±æœ‰ 8 ä¸ªè´Ÿæ•°ã€‚
//
//
// ç¤ºä¾‹ 2ï¼š
//
//
//è¾“å…¥ï¼šgrid = [[3,2],[1,0]]
//è¾“å‡ºï¼š0
//
//
//
//
// æç¤ºï¼š
//
//
// m == grid.length
// n == grid[i].length
// 1 <= m, n <= 100
// -100 <= grid[i][j] <= 100
//
//
//
//
// è¿›é˜¶ï¼šä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(n + m) çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ
// Related Topics æ•°ç»„ äºŒåˆ†æŸ¥æ‰¾ çŸ©é˜µ ğŸ‘ 98 ğŸ‘ 0
public class CountNegatives {

    public int countNegatives(int[][] grid) {
        int m = grid.length;
        int n = grid[0].length;
        int count = 0;
        for (int i = 0;i < m;i++){
            int l = -1;
            int r = n;
            while (l + 1!= r){
                int mid = l + (r - l)/2;
                if (grid[i][mid] >=0 ){
                    l = mid;
                }else {
                    r = mid;
                }
            }
            count += (n - r);
        }
        return count;
    }

    /**
     * ä¼˜åŒ–ç‰ˆæœ¬
     * @param grid
     * @return
     */
    public int countNegatives2(int[][] grid) {
        int m = grid.length;
        int n = grid[0].length;
        int count = 0;
        int l;
        int r = n;
        for (int i = 0;i < m;i++){
            l = -1;
            // ç”±äºçŸ©é˜µä»ä¸Šåˆ°ä¸‹ä¹Ÿæ˜¯æœ‰åºçš„ï¼Œæˆ‘ä»¬å‘ç°ä»ä¸Šåˆ°ä¸‹çº¢è‰²åŒºåŸŸçš„å·¦ç«¯ç‚¹åªèƒ½ä¸åŠ¨æˆ–è€…å·¦ç§»ï¼Œ
            // æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸‹ä¸€è¡Œ r æŒ‡é’ˆçš„åˆå§‹å€¼ä¸ºä¸Šä¸€è¡Œ r æŒ‡é’ˆçš„æœ€ç»ˆå€¼ï¼Œè¿™æ ·å¯ä»¥ç¼©å°æŸ¥æ‰¾åŒºé—´é•¿åº¦ï¼Œå¯¹æ¯”ä¸Šä¸€ç‰ˆä»£ç ï¼Œ
            // æˆ‘ä»¬åªéœ€è¦åˆ é™¤ r = n è¿™è¡Œä»£ç å°±è¡Œ


            while (l + 1!= r){
                int mid = l + (r - l)/2;
                if (grid[i][mid] >=0 ){
                    l = mid;
                }else {
                    r = mid;
                }
            }
            count += (n - r);
        }
        return count;
    }
}
